@import './colors';
@import './bootstrap/scss/bootstrap-flex';

$chat-color-text: $fontColor;
$chat-color-background: $colorWhite;
$chat-color-primary: $colorTertiary;
$chat-color-secondary: hsl(hue($chat-color-primary), saturation($chat-color-primary), 85%);

// add space for messenger
footer {
	padding-bottom: 50px;
}

.route-homework .create {
	bottom: 65px;
	right: 14px;
}

#matrixchat {
	z-index: 1039; // less than .modal-backdrop
	font-family: "PT Sans", Nunito, Twemoji, Apple Color Emoji, Segoe UI Emoji, "Helvetica Neue", Noto Color Emoji, sans-serif !important;
	color: $chat-color-text !important;

	// Hide additional Functionality
	// > hide chat header icons of advanced features
	.mx_RoomHeader_settingsButton,
	.mx_RoomHeader_shareButton,
	.mx_HeaderButtons::before,
	.mx_RightPanel_filesButton,
	.mx_RightPanel_notifsButton {
		display: none;
	}

	.mx_RightPanel_membersButton {
		margin-left: 10px;
	}

	// > hide explore public room
	.mx_LeftPanel_explore {
		display:none;
	}

	// > hide menu buttons
	.mx_RoomSubList_addRoom,
	.mx_RoomTile_menuButton {
		//display: none !important;
	}
	// hide room settings (make public, shared)
	.mx_SettingsFlag,
	.mx_CreateRoomDialog_details {
		display: none;
	}

	// > do not ask to activate desktop notifications
	.mx_MatrixToolbar {
		display: none;
	}

	// hide user id
	.mx_InviteDialog_roomTile_userId,
	.mx_MemberInfo_profile > .mx_MemberInfo_profileField:first-child {
		display: none;
	}

	// hide reference to user Ids
	.mx_InviteDialog_helpText {
		display: none;
	}

	// don't invite via email
	.mx_AddressPickerDialog_identityServer {
		display: none;
	}

	.mx_MemberInfo_container {
		#headline-user-options,
		#headline-admin-tools {
			display: none;
		}
		#button-ignore,
		#button-read-receipt,
		#button-mention,
		#button-invite,
		#button-share,
		//#button-direct,
		//#button-kick,
		#button-recent,
		#button-ban,
		//#button-mute,
		#button-mod,
		#button-deactivate {
			display: none;
		}
	}

	// reduce message menu
	.mx_MessageContextMenu {
		//#button-resend,
		//#button-resend-edit,
		//#button-resend-reactions,
		//#button-resend-removal,
		//#button-remove,
		//#button-cancel-sending,
		#button-forward,
		#button-pin,
		#button-source,
		#button-source-decrypt,
		#button-unhide-preview,
		//#button-quote,
		#button-source-url,
		#button-collapse-thread,
		#button-e2e,
		//#button-report,
		#button-share {
			display: none;
		}
	}

	// hide sticker creation
	#stickersButton {
		display: none;
	}

	// full width content
	.mx_RoomView_timeline_rr_enabled .mx_EventTile_line,
	.mx_RoomView_timeline_rr_enabled .mx_EventTile_reply {
		margin-right: 0;
	}
	.mx_EventListSummary_toggle {
		display: none;
	}

	// hide archiv
	.mx_RoomSubList[aria-label="Archiv"] {
		display: none;
	}

	.mx_EmojiPicker_anchor {
		box-sizing: border-box;
	}

	// hide menu breadcrumbs if many rooms are present
	.mx_RoomBreadcrumbs {
		display: none;
	}

	// hide room error messages
	.mx_RoomPreviewBar_ViewingRoom,
	.mx_RoomPreviewBar_RoomNotFound {
		display: none;
	}

	// hide room type changer and room settings
	.mx_RoomTileContextMenu_tag_field {
		display: none;
	}
	.mx_ContextualMenu_withChevron_left {
		margin-top: 110px;
		.mx_ContextualMenu_chevron_left {
			display: none;
		}
	}

	// hide audio/video calls
	.mx_MessageComposer_voicecall,
	.mx_MessageComposer_videocall {
		display: none;
	}


	// Theme
	// > Menu
	.mx_LeftPanel_container {
		box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.20);
	}

	.mx_LeftPanel {
		background-color: $chat-color-background;
		border-top-left-radius: 4px;
		border-top-right-radius: 4px;
	}

	.my_HeaderContainer {
		background-color: $chat-color-primary;

		.mx_BaseAvatar_image {
			display: block;
			-moz-box-sizing: border-box;
			box-sizing: border-box;
			background: url('data:image/png;base64,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') no-repeat;
			background-size: 36px 36px;
			width: 36px;
			height: 36px;
			padding-left: 36px;
		}

		.mx_TopLeftMenuButton {
			background-color: transparent;
			color: $chat-color-background;
			border: none;
		}

		.mx_TopLeftMenuButton_name {
			font-size: 20px; //font-size: var(--text-lg);
		}

		.my_CollapseButtons {
			background-color: transparent;
			border: none;
		}

		.mx_RightPanel_headerButton:before {
			background-color: $chat-color-background;
		}
	}

	// > Menu Content
	.mx_RoomSubList_scroll {
		padding: 0;
	}

	.mx_RoomTile {
		padding: 8px 14px;
		height: 24px;
	}

	.mx_RoomTile:hover {
		background-color: $chat-color-secondary;
	}

	.mx_RoomTile_selected {
		background-color: $chat-color-secondary;
		padding-top: 10px;
		padding-bottom: 10px;
		margin-top: -2px;
		margin-bottom: -2px;
		border-radius: 0;
	}

	input[type=text].mx_LeftPanel_filterRooms {
		font-size: var(--text-xs);
		color: $chat-color-primary;
		padding-left: 52px !important;
	}

	.mx_RoomSubList_label > span {
		font-size: var(--text-xs);
		color: $chat-color-primary;
		margin-left: 30px;
	}

	.mx_RoomTile_name {
		font-size: var(--text-xs);
		color: $chat-color-text;
		padding-left: 23px;
	}

	.mx_RoomSubList_chevron {
		background-color: $chat-color-primary;
		opacity: 0.9;
		margin-left: -1px;
	}

	.mx_RoomSubList_addRoom {
		background-color: $chat-color-primary;
	}

	.mx_RoomSubList_badge > div,
	.mx_RoomTile_badge.mx_RoomTile_badgeUnread, .mx_RoomTile_unreadNotify .mx_RoomTile_badge {
		background-color: #ff4b55;
	}

	.mx_SearchBox .mx_SearchBox_closeButton {
		margin-right: 6px;
	}

	.mx_RoomTileContextMenu_leave {
		font-size: 0;
		padding-left: 3px;

		&:after {
			font-size: 14px;
			content: 'Raum Verlassen';
		}
	}

	.mx_RoomSubList_chevronDown {
		transform: rotate(0deg) scale(1.5);
	}

	.mx_RoomSubList_chevronRight {
		transform: rotate(-90deg) scale(1.5);
	}

	.collapsed .mx_RoomSubList_labelContainer {
		margin-left: 20px;
	}

	// Scroll shadow
	.mx_RoomSubList:not(.resized-all)>.mx_RoomSubList_scroll.mx_IndicatorScrollbar_topOverflow:before {
		background: linear-gradient(0deg, rgba(242, 245, 248, 0), $chat-color-background);
	}

	// > Chat
	.mx_GroupView, .mx_RoomView {
		box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.20);
		border-top-left-radius: 4px;
		border-top-right-radius: 4px;
	}

	.mx_RoomHeader {
		background-color: $chat-color-primary;
		border-top-left-radius: 4px;
		border-top-right-radius: 4px;
		border: none;
		cursor: pointer;

		// if uncentered is really wished
		//.mx_RoomHeader_wrapper {
		//	padding-top: 3px;
		//	padding-left: 3px;
		//	height: 49px;
		//}

		.mx_RoomHeader_avatar {
			width: 36px;
			height: 36px;
		}

		.mx_BaseAvatar_initial {
			font-size: 20px !important;
			width: 36px !important;
			line-height: 36px !important;
			opacity: 0.9;
		}

		.mx_BaseAvatar_image {
			width: 36px;
			height: 36px;
		}

		.mx_RoomHeader_name {
			color: $chat-color-background;
			font-size: 20px; //font-size: var(--text-lg);

			&:hover div:not(.mx_RoomHeader_editable) {
				color: $chat-color-background;
			}
		}

		.mx_RoomHeader_settingsHint {
			color: $chat-color-background !important;
		}

		.mx_RoomHeader_topic {
			color: $chat-color-background;
			white-space: nowrap;
		}

		.mx_RoomHeader_buttons {
			background-color: transparent;
		}

		.mx_RoomHeader_button:before {
			background-color: $chat-color-background;
		}

		.my_CollapseButtons:before {
			background-color: $chat-color-background;
		}

		.mx_RightPanel_headerButton:before {
			background-color: $chat-color-background;
		}
	}

	// > Chat Content
	.mx_TextualEvent {
		opacity: 1;
		color: $chat-color-primary;
	}

	.mx_DateSeparator {
		color: $chat-color-text;

		& > hr {
			border-color: $chat-color-secondary;
		}
	}

	.mx_MessageComposer_noperm_error {
		color: $chat-color-primary;
	}

	// > Popover
	.mx_TabbedView_tabLabels {
		width: 200px;
		min-width: 200px;
	}
}
