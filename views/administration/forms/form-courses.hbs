<input name="schoolId" type="hidden" data-force-value="true" value="{{currentSchool}}" />

<div class="form-group">
    <label>{{$t "administration.global.label.nameOfTheCourse" }}</label>
    <input class="form-control" name="name" type="text" placeholder="Mathe 10a" required />
</div>

<div class="form-group">
    <label>{{$t "administration.global.label.colorOfTheCourse" }}</label>
    <input name="color" type="color" value="{{#if course.color}}{{course.color}}{{else}}#d32f2f{{/if}}" required/>
</div>

<div class="form-group">
    <label>{{$t "administration.global.label.classes" }} <small>{{$t "administration.global.label.afterSavingAllStudentsAdded" }}</small></label>

    <select name="classIds[]" multiple data-placeholder="{{$t "administration.global.placeholder.selectClasses" }}">
        {{#each classes}}
            <option value="{{this._id}}" {{#if this.selected}}selected{{/if}}>{{this.name}}</option>
        {{/each}}
    </select>
</div>

<div class="form-group">
    <label>{{$t "administration.global.label.teachingTeacher" }} </label>

    <select name="teacherIds[]" multiple data-placeholder="Lehrer auswählen">
        {{#each teachers}}
            <option value="{{this._id}}" {{#if this.selected}}selected{{/if}}>
                {{#if this.displayName}}
                    {{this.displayName}}
                {{else}}
                    {{this.firstName}} {{this.lastName}}
                {{/if}}
            </option>
        {{/each}}
    </select>
</div>

<div class="form-group">
    <label>{{$t "administration.global.label.substituteTeacher" }}</label>
    <select name="substitutionIds[]" multiple data-placeholder="Lehrer auswählen">
        {{#each substitutions}}
            <option value="{{this._id}}" {{#if this.selected}}selected{{/if}}>
                {{this.firstName}} {{this.lastName}}
            </option>
        {{/each}}
    </select>
</div>

<div class="form-group">
    <label>{{$t "administration.global.label.studentParticipants" }}</label>

    <select name="userIds[]" multiple data-placeholder="{{$t "administration.global.placeholder.selectStudent" }}">
        {{#each students}}
            <option value="{{this._id}}" {{#if this.selected}}selected{{/if}}>
                {{#if this.displayName}}
                    {{this.displayName}}
                {{else}}
                    {{this.firstName}} {{this.lastName}}
                {{/if}}
            </option>
        {{/each}}
    </select>
</div>

<div class="panel-group">
    <div class="panel panel-default">
        <div class="panel-heading">
            <a data-toggle="collapse" href="#collapse{{collapseId}}" class="collapse-toggle"><label>{{$t "administration.global.label.chooseDate" }}</label><i class="fa fa-chevron-right collapse-icon" aria-hidden="true"></i></a>
        </div>
        <div id="collapse{{collapseId}}" class="panel-collapse collapse">
            <div class="times">
                <label>{{$t "administration.global.label.timeSpan" }}</label>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>{{$t "global.label.from" }}</label>
                        <input name="startDate" id="startDate" type="date" class="form-control" value="{{course.startDate}}"/>
                    </div>

                    <div class="form-group col-md-6">
                        <label>{{$t "global.label.to" }}</label>
                        <input name="untilDate" id="untilDate" type="date" class="form-control" value="{{course.untilDate}}"/>
                    </div>
                </div>

                <table width="100%" cellpadding="5px" class="course-times">
                    <thead>
                    <th></th>
                    <th><label>{{$t "administration.global.label.weekday" }}</label></th>
                    <th><label>{{$t "administration.global.label.startOfLesson" }}</label></th>
                    <th><label>{{$t "administration.global.label.lengthOfLesson" }}</label></th>
                    <th><label>{{$t "global.label.room" }}</label></th>
                    </thead>
                    <tbody class="add-course-times">
                        {{#embed "courses/components/template-new-course-time"}}{{/embed}}
                    </tbody>
                </table>
                <button class="new-course-time-add btn-link" data-timesref="#collapse1" type="button">
                    <i class="fa fa-plus-circle fa-6"></i> {{$t "administration.global.button.addNewAppointment" }}
                </button>
            </div>
        </div>
    </div>
</div>
